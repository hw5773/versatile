\hypertarget{namespaceflexIDMnger}{\section{flex\-I\-D\-Mnger Namespace Reference}
\label{namespaceflexIDMnger}\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceflexIDMnger_a2a7c7e9bf32f6eb60a156d39cae2b83e}{send\-\_\-\-D\-Bquery}
\item 
def \hyperlink{namespaceflexIDMnger_aac6ecfc0a2fe51bdd01b61ccd58eb91f}{gen\-\_\-flag}
\item 
def \hyperlink{namespaceflexIDMnger_a0d83ec0ab91ef22408468b11538747d9}{join\-\_\-gen\-I\-D}
\item 
def \hyperlink{namespaceflexIDMnger_a7d48306b9aecbe1ad4aef8c58c6a1690}{join}
\item 
def \hyperlink{namespaceflexIDMnger_a52817e4c22e96db951b167be5d1f2bc5}{leave}
\item 
def \hyperlink{namespaceflexIDMnger_a8da198b7fa1207a7122130fb50adb675}{register\-\_\-gen\-I\-D}
\item 
def \hyperlink{namespaceflexIDMnger_ac74ae56a6ac7c8ce2adc5a2b4da7087d}{register}
\item 
def \hyperlink{namespaceflexIDMnger_adedec16e54018954285353ecad9197db}{update}
\item 
def \hyperlink{namespaceflexIDMnger_adba086fec54959047cafe9f3fefc2bbd}{query}
\item 
def \hyperlink{namespaceflexIDMnger_a8af259aaa589de654cdbe1e50258ff4d}{on\-\_\-connect}
\item 
def \hyperlink{namespaceflexIDMnger_a54882f09152f63c4ca3daa9493e8c6c3}{on\-\_\-db\-\_\-connect}
\item 
def \hyperlink{namespaceflexIDMnger_acafc247773f5ae3f709e0901c753ca9b}{on\-\_\-message}
\item 
def \hyperlink{namespaceflexIDMnger_aaaca9b99b5b33134f1f68152199a34ef}{on\-\_\-db\-\_\-message}
\item 
def \hyperlink{namespaceflexIDMnger_ac3c6578e808a66b6cc9c93a89f7cc590}{on\-\_\-publish}
\item 
def \hyperlink{namespaceflexIDMnger_aabffe64484502208d5e35783b11e2db4}{on\-\_\-subscribe}
\item 
def \hyperlink{namespaceflexIDMnger_a076e57c60c391727cf64ed753fcf73ee}{on\-\_\-db\-\_\-publish}
\item 
def \hyperlink{namespaceflexIDMnger_a3864cbf7d033d1ab035d03390ce3a0ae}{on\-\_\-db\-\_\-subscribe}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{namespaceflexIDMnger_a7921a1547a604812b8598511ec7510b1}{string {\bfseries broker} = \char`\"{}202.\-30.\-19.\-96\char`\"{}}\label{namespaceflexIDMnger_a7921a1547a604812b8598511ec7510b1}

\item 
\hypertarget{namespaceflexIDMnger_a25d68df4dd27bd82ff34da80173196b8}{string {\bfseries db\-\_\-broker} = \char`\"{}202.\-30.\-19.\-96\char`\"{}}\label{namespaceflexIDMnger_a25d68df4dd27bd82ff34da80173196b8}

\item 
\hypertarget{namespaceflexIDMnger_a410887fb1e5741855597352a40e77a16}{dictionary {\bfseries device\-I\-D\-\_\-cache} = \{\}}\label{namespaceflexIDMnger_a410887fb1e5741855597352a40e77a16}

\item 
\hypertarget{namespaceflexIDMnger_a5cbd9153a4dcde4ba9c238730f139570}{dictionary {\bfseries db\-Query\-\_\-cache} = \{\}}\label{namespaceflexIDMnger_a5cbd9153a4dcde4ba9c238730f139570}

\item 
\hypertarget{namespaceflexIDMnger_a5f94c1426e81cb817d657b1ae5837d8c}{int {\bfseries collision\-\_\-inc} = 4}\label{namespaceflexIDMnger_a5f94c1426e81cb817d657b1ae5837d8c}

\item 
\hypertarget{namespaceflexIDMnger_a1981fc00829b540f8d58471de23e3acd}{string {\bfseries db\-\_\-insert} = \char`\"{}/dbquery/insert/flex\-Mnger\char`\"{}}\label{namespaceflexIDMnger_a1981fc00829b540f8d58471de23e3acd}

\item 
\hypertarget{namespaceflexIDMnger_a423e288f8377fcad63137ba3798070e3}{string {\bfseries db\-\_\-select} = \char`\"{}/dbquery/select/flex\-Mnger\char`\"{}}\label{namespaceflexIDMnger_a423e288f8377fcad63137ba3798070e3}

\item 
\hypertarget{namespaceflexIDMnger_a386574d9419f6dfafb0b9110c8523bbd}{string {\bfseries db\-\_\-delete} = \char`\"{}/dbquery/delete/flex\-Mnger\char`\"{}}\label{namespaceflexIDMnger_a386574d9419f6dfafb0b9110c8523bbd}

\item 
\hypertarget{namespaceflexIDMnger_a3cc825d50191d10077c31adec3a44cbe}{string {\bfseries db\-\_\-update} = \char`\"{}/dbquery/\hyperlink{namespaceflexIDMnger_adedec16e54018954285353ecad9197db}{update}/flex\-Mnger\char`\"{}}\label{namespaceflexIDMnger_a3cc825d50191d10077c31adec3a44cbe}

\item 
\hypertarget{namespaceflexIDMnger_ae8dbf691e3f727b2d0710958a1f989db}{tuple {\bfseries client} = mqtt.\-Client()}\label{namespaceflexIDMnger_ae8dbf691e3f727b2d0710958a1f989db}

\item 
\hypertarget{namespaceflexIDMnger_a1bc18fe7ec1b8161813483087052108b}{tuple {\bfseries db\-\_\-client} = mqtt.\-Client()}\label{namespaceflexIDMnger_a1bc18fe7ec1b8161813483087052108b}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}@file flexIDMnger.py is an implementation of flex ID Manager
\end{DoxyVerb}
 

\subsection{Function Documentation}
\hypertarget{namespaceflexIDMnger_aac6ecfc0a2fe51bdd01b61ccd58eb91f}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!gen\-\_\-flag@{gen\-\_\-flag}}
\index{gen\-\_\-flag@{gen\-\_\-flag}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{gen\-\_\-flag}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-gen\-\_\-flag (
\begin{DoxyParamCaption}
\item[{}]{cache\-\_\-bit, }
\item[{}]{segment\-\_\-bit, }
\item[{}]{collision\-\_\-mngt}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_aac6ecfc0a2fe51bdd01b61ccd58eb91f}
\begin{DoxyVerb}Generate a flag for FlexID.

@param cache_bit        Cache bit
@param segment_bit      Segment bit
@param collision_mngt   Collision management bit
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a7d48306b9aecbe1ad4aef8c58c6a1690}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!join@{join}}
\index{join@{join}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{join}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-join (
\begin{DoxyParamCaption}
\item[{}]{temp\-I\-D, }
\item[{}]{payload}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a7d48306b9aecbe1ad4aef8c58c6a1690}
\begin{DoxyVerb}Register a device.

@param tempID   Temproray ID that a user sets
#param payload  Message payload
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a0d83ec0ab91ef22408468b11538747d9}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!join\-\_\-gen\-I\-D@{join\-\_\-gen\-I\-D}}
\index{join\-\_\-gen\-I\-D@{join\-\_\-gen\-I\-D}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{join\-\_\-gen\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-join\-\_\-gen\-I\-D (
\begin{DoxyParamCaption}
\item[{}]{device\-I\-D, }
\item[{}]{flag}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a0d83ec0ab91ef22408468b11538747d9}
\begin{DoxyVerb}Generate new Device ID using given temporary ID.

@param deviceID Temporary device ID
@param flag     If a collision is detected, add the flag to the ID
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a52817e4c22e96db951b167be5d1f2bc5}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!leave@{leave}}
\index{leave@{leave}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{leave}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-leave (
\begin{DoxyParamCaption}
\item[{}]{temp\-I\-D, }
\item[{}]{payload}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a52817e4c22e96db951b167be5d1f2bc5}
\begin{DoxyVerb}Remove a device from the network (also related information).

@param tempID   Flex ID of a device who sent the leave message
@param payload  Message payload
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a8af259aaa589de654cdbe1e50258ff4d}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-connect@{on\-\_\-connect}}
\index{on\-\_\-connect@{on\-\_\-connect}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-connect}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-connect (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{flags, }
\item[{}]{rc}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a8af259aaa589de654cdbe1e50258ff4d}
\begin{DoxyVerb}Make a connection with the Message Bus. This connection is used to communicate with a client.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a54882f09152f63c4ca3daa9493e8c6c3}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-db\-\_\-connect@{on\-\_\-db\-\_\-connect}}
\index{on\-\_\-db\-\_\-connect@{on\-\_\-db\-\_\-connect}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-db\-\_\-connect}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-db\-\_\-connect (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{flags, }
\item[{}]{rc}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a54882f09152f63c4ca3daa9493e8c6c3}
\begin{DoxyVerb}Make a connection with the Message Bus. This connection is used to communicate with the DB.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_aaaca9b99b5b33134f1f68152199a34ef}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-db\-\_\-message@{on\-\_\-db\-\_\-message}}
\index{on\-\_\-db\-\_\-message@{on\-\_\-db\-\_\-message}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-db\-\_\-message}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-db\-\_\-message (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{msg}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_aaaca9b99b5b33134f1f68152199a34ef}
\begin{DoxyVerb}Receive messages from the DB. And pre-process messages.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a076e57c60c391727cf64ed753fcf73ee}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-db\-\_\-publish@{on\-\_\-db\-\_\-publish}}
\index{on\-\_\-db\-\_\-publish@{on\-\_\-db\-\_\-publish}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-db\-\_\-publish}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-db\-\_\-publish (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{mid}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a076e57c60c391727cf64ed753fcf73ee}
\begin{DoxyVerb}Publish messages to the DB.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a3864cbf7d033d1ab035d03390ce3a0ae}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-db\-\_\-subscribe@{on\-\_\-db\-\_\-subscribe}}
\index{on\-\_\-db\-\_\-subscribe@{on\-\_\-db\-\_\-subscribe}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-db\-\_\-subscribe}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-db\-\_\-subscribe (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{mid, }
\item[{}]{granted\-\_\-qos}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a3864cbf7d033d1ab035d03390ce3a0ae}
\begin{DoxyVerb}Subscribe messages from the DB.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_acafc247773f5ae3f709e0901c753ca9b}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-message@{on\-\_\-message}}
\index{on\-\_\-message@{on\-\_\-message}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-message}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-message (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{msg}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_acafc247773f5ae3f709e0901c753ca9b}
\begin{DoxyVerb}Receive messages from a client. And pre-process messages.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_ac3c6578e808a66b6cc9c93a89f7cc590}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-publish@{on\-\_\-publish}}
\index{on\-\_\-publish@{on\-\_\-publish}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-publish}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-publish (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{mid}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_ac3c6578e808a66b6cc9c93a89f7cc590}
\begin{DoxyVerb}Publish messages to a client.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_aabffe64484502208d5e35783b11e2db4}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!on\-\_\-subscribe@{on\-\_\-subscribe}}
\index{on\-\_\-subscribe@{on\-\_\-subscribe}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{on\-\_\-subscribe}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-on\-\_\-subscribe (
\begin{DoxyParamCaption}
\item[{}]{client, }
\item[{}]{userdata, }
\item[{}]{mid, }
\item[{}]{granted\-\_\-qos}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_aabffe64484502208d5e35783b11e2db4}
\begin{DoxyVerb}Subscribe messages from a client.
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_adba086fec54959047cafe9f3fefc2bbd}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!query@{query}}
\index{query@{query}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{query}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-query (
\begin{DoxyParamCaption}
\item[{}]{temp\-I\-D, }
\item[{}]{payload}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_adba086fec54959047cafe9f3fefc2bbd}
\begin{DoxyVerb}Process a query and send a reply which contains a list of Flex ID.

@param tempID   Flex ID of a device who sent the query message
@param payload  Message payload
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_ac74ae56a6ac7c8ce2adc5a2b4da7087d}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!register@{register}}
\index{register@{register}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{register}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-register (
\begin{DoxyParamCaption}
\item[{}]{temp\-I\-D, }
\item[{}]{payload}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_ac74ae56a6ac7c8ce2adc5a2b4da7087d}
\begin{DoxyVerb}Register a content or service to the network.

@param tempID   Flex ID of a device who sent the register message
@param payload  Message payload
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a8da198b7fa1207a7122130fb50adb675}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!register\-\_\-gen\-I\-D@{register\-\_\-gen\-I\-D}}
\index{register\-\_\-gen\-I\-D@{register\-\_\-gen\-I\-D}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{register\-\_\-gen\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-register\-\_\-gen\-I\-D (
\begin{DoxyParamCaption}
\item[{}]{hash\-\_\-val, }
\item[{}]{flag}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a8da198b7fa1207a7122130fb50adb675}
\begin{DoxyVerb}Generate a Flex ID of content or service for which needs collision avoidance.

@param hash_val Hash value of a service/contnet
@param flag     If a collision is detected, add the flag to the ID 
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_a2a7c7e9bf32f6eb60a156d39cae2b83e}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!send\-\_\-\-D\-Bquery@{send\-\_\-\-D\-Bquery}}
\index{send\-\_\-\-D\-Bquery@{send\-\_\-\-D\-Bquery}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{send\-\_\-\-D\-Bquery}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-send\-\_\-\-D\-Bquery (
\begin{DoxyParamCaption}
\item[{}]{query, }
\item[{}]{topic, }
\item[{}]{wait}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_a2a7c7e9bf32f6eb60a156d39cae2b83e}
\begin{DoxyVerb}Send query to a DB (and wait a response if it is necessary).

@param query    Payload of a message
@param topic    SQL statement ex) insert
@param wait     If this param is set, should wait a response
\end{DoxyVerb}
 \hypertarget{namespaceflexIDMnger_adedec16e54018954285353ecad9197db}{\index{flex\-I\-D\-Mnger@{flex\-I\-D\-Mnger}!update@{update}}
\index{update@{update}!flexIDMnger@{flex\-I\-D\-Mnger}}
\subsubsection[{update}]{\setlength{\rightskip}{0pt plus 5cm}def flex\-I\-D\-Mnger.\-update (
\begin{DoxyParamCaption}
\item[{}]{temp\-I\-D, }
\item[{}]{payload}
\end{DoxyParamCaption}
)}}\label{namespaceflexIDMnger_adedec16e54018954285353ecad9197db}
\begin{DoxyVerb}Update attributes of a content or service.

@param tempID   Flex ID of a device who sent the update message
@param payload  Message payload
\end{DoxyVerb}
 